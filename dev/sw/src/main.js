import*as e from"../web_modules/three.js";const d=new e.Scene,n=new e.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,100);n.position.z=5;const r=new e.WebGLRenderer;r.setSize(window.innerWidth/2,window.innerHeight/2,!1),r.shadowMap.enabled=!0,r.shadowMap.type=e.PCFShadowMap,document.body.appendChild(r.domElement);const s=new e.TextureLoader().load("floor.png");s.wrapS=e.RepeatWrapping,s.wrapT=e.RepeatWrapping,s.repeat.set(100,100);const u=new e.MeshStandardMaterial({color:16777215,map:s}),m=new e.MeshStandardMaterial({color:65280}),i=new e.Mesh(new e.BoxGeometry,m);i.castShadow=!0,d.add(i);const w=new e.Mesh(new e.PlaneGeometry(100,100,1,1),u);w.rotation.x=e.MathUtils.degToRad(-90),w.position.y=-2,w.receiveShadow=!0,d.add(w);const o=new e.DirectionalLight(16777215,1);o.target=i,o.position.set(10,10,10),o.castShadow=!0,o.shadow.mapSize.width=512,o.shadow.mapSize.height=512,o.shadow.camera.near=.5,o.shadow.camera.far=30,d.add(o);let f=new Map,a=new Map;function c(t){switch(t){case 37:return"left";case 38:return"up";case 39:return"right";case 40:return"down";default:return""}}document.onkeydown=function(t){a.set(c(t.keyCode),!0)},document.onkeyup=function(t){a.set(c(t.keyCode),!1)};function l(){requestAnimationFrame(l),a.forEach((p,h)=>{f.set(h,p)}),i.rotation.x+=.01,i.rotation.y+=.01;let t=new e.Vector3;n.getWorldDirection(t),t.multiplyScalar(.1),a.get("up")&&n.position.add(t),a.get("down")&&n.position.sub(t),a.get("right")&&n.rotateY(e.MathUtils.degToRad(-2)),a.get("left")&&n.rotateY(e.MathUtils.degToRad(2)),r.render(d,n)}l(),console.log("hello world");
